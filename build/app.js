define("base",[],function(){return{validate:function(e,r){if(!e.hasOwnProperty("structure"))throw new Error("Structure should be defined");var o=e.structure;if(!o.hasOwnProperty("module")||!o.module.hasOwnProperty("path")||!o.hasOwnProperty("prefix"))throw new Error("Modules structure should be defined");this.validateType(o,r)},validateType:function(e,r){if(!e.hasOwnProperty(r)&&!e[r].hasOwnProperty("path"))throw new Error("Structure for "+r+" should be defined")},getCurrentUrl:function(e){return e.hasOwnProperty("toUrl")?e.toUrl(".").split("?")[0]:e(".").split("?")[0]},getCurrentModule:function(e,r){var o=e.baseUrl,n=e.structure.prefix;return r.replace(new RegExp("^.*"+(o+n.replace("{module}",""))),"").split("/")[0]},path:function(e,r,o){var n=r.structure.prefix,t=this.getCurrentModule(r,o);return n.replace("{module}",t)+e},value:function(e){var r,o=e.split(":");if(1==o.length)r=o[0];else{if(2!=o.length)throw new Error("Invalid require path format for structure plugin");r=o[1]}return"@"==r[0]&&(r=r.substr(1)),r},process:function(e,r,o,n,t){var i=this.reqPath(e,r,t,this.getCurrentUrl(o));o([i],function(e){n(e)})},reqPath:function(e,r,o,n){this.validate(o,e);var t=o.structure,i=this.value(r),l=t[e].path.replace(new RegExp("{"+e+"}","g"),i);return this.path(l,o,n)},normalize:function(e,r){var o;if(1==e.split(":").length){var n=requirejs.s.contexts._.config,t=this.getCurrentModule(n,n.baseUrl+this.getCurrentUrl(r));o=t+":"+e}else o=e;return o}}}),define("module",["base"],function(e){return{normalize:function(r,o){var n=r;if("@"==r){var t=requirejs.s.contexts._.config;n=e.getCurrentModule(t,t.baseUrl+e.getCurrentUrl(o))}return n},load:function(r,o,n,t){e.validate(t,"module");var i=t.structure,l=e.value(r);""==l&&(l=e.getCurrentModule(t,e.getCurrentUrl(o)));var u=i.module.path.replace("{module}",l),a=e.path(u,t,e.getCurrentUrl(o));o([a],function(e){n(e)})}}}),define("modules/foo/foo",["require","angular"],function(e){var r=e("angular"),o=r.module("foo",[]);return o}),define("controller",["base"],function(e){return{normalize:function(r,o){return e.normalize(r,o)},load:function(r,o,n,t){e.process("controller",r,o,n,t)}}}),define("modules/foo/controllers/hello",["require","module!@"],function(e){var r=e("module!@");r.controller("foo.controllers.hello",["$scope","application.factory.greeter",function(e,r){angular.extend(e,{greetings:r.sayHelloToMe("tuchk4")})}])}),define("modules/foo/controllers/home",["require","module!@"],function(e){var r=e("module!@");r.controller("foo.controllers.home",["$scope","application.factory.greeter",function(e,r){angular.extend(e,{greetings:r.sayHelloToMe("home")})}])}),define("config",["base"],function(e){return{normalize:function(r,o){return e.normalize(r,o)},load:function(r,o,n,t){e.process("config",r,o,n,t)}}}),define("template",["base"],function(e){return{normalize:function(r,o){return e.normalize(r,o)},load:function(r,o,n,t){e.validate(t,"template");var i=t.structure,l=e.value(r),u="html";i.template.hasOwnProperty("extension")&&(u=i.template.extension);var a=i.template.path.replace("{template}",l).replace("{extension}",u),c=e.path(a,t,e.getCurrentUrl(o));o(["text!"+c],function(e){n(e)})}}}),define("text!modules/foo/resources/views/home.html",[],function(){return'<div id="home-page">\n    <p>\n        <string>{{ greetings }}</string>\n    </p>\n</div>'}),define("text!modules/foo/resources/views/hello.html",[],function(){return'<div id="hello-page">\n    <p>\n        <string>{{ greetings }}</string>\n    </p>\n</div>'}),define("modules/foo/resources/configs/routes",["require","module!@","template!home","template!hello"],function(e){return function(r){var r=e("module!@");r.config(["$routeProvider",function(r){r.when("/",{template:e("template!home"),controller:"foo.controllers.home",resolve:{}}),r.when("/foo/hello",{template:e("template!hello"),controller:"foo.controllers.hello",resolve:{}})}])}}),define("modules/foo/resources/configs/main",["require","./routes"],function(e){return function(r){e("./routes")(r)}}),define("modules/foo/foo-includes",["require","module!@","controller!hello","controller!home","config!main"],function(e){var r=e("module!@");e("controller!hello"),e("controller!home"),e("config!main")(r)}),define("modules/bar/bar",["require","angular"],function(e){var r=e("angular"),o=r.module("bar",[]);return o}),define("modules/bar/controllers/beer",["require","module!@"],function(e){var r=e("module!@");r.controller("bar.controllers.beer",["$scope","application.factory.greeter",function(e){angular.extend(e,{greetings:"Wanna some beer?"})}])}),define("text!modules/bar/resources/views/beer.html",[],function(){return'<div id="beer-page">\n    <p>\n        <string>{{ greetings }}</string>\n    </p>\n\n     <img src="http://cs304605.vk.me/v304605893/31d8/itREAu03sxg.jpg" width="100px">\n</div>'}),define("modules/bar/resources/configs/routes",["require","module!@","template!beer"],function(e){return function(r){var r=e("module!@");r.config(["$routeProvider",function(r){r.when("/bar/beer",{template:e("template!beer"),controller:"bar.controllers.beer",resolve:{}})}])}}),define("modules/bar/resources/configs/main",["require","./routes"],function(e){return function(r){e("./routes")(r)}}),define("modules/bar/bar-includes",["require","module!@","controller!beer","config!main"],function(e){var r=e("module!@");e("controller!beer"),e("config!main")(r)}),define("modules/application/application",["require","angular","angular-route"],function(e){var r=e("angular");e("angular-route");var o=r.module("application",["ngRoute"]);return o}),define("service",["base"],function(e){return{normalize:function(r,o){return e.normalize(r,o)},load:function(r,o,n,t){e.process("service",r,o,n,t)}}}),define("modules/application/src/provider/spinner",["require","module!@"],function(e){var r=e("module!@");r.provider("app.provider.spinner",function(){var e="spinner";this.$get=["$rootScope",function(r){return{show:function(){r[e]=!0},hide:function(){r[e]=!1}}}]})}),define("modules/application/src/factory/greeter",["require","module!@"],function(e){var r=e("module!@");r.factory("application.factory.greeter",function(){return{sayHello:function(){return"Hello world!"},sayHelloToMe:function(e){return"Hello {name}! How are you?".replace("{name}",e)}}})}),define("modules/application/resources/configs/html5-mode",["require"],function(){return function(e){e.config(["$locationProvider",function(e){e.html5Mode(!0)}])}}),define("modules/application/resources/configs/main",["require","./html5-mode"],function(e){return function(r){e("./html5-mode")(r)}}),define("modules/application/application-includes",["require","module!@","service!provider/spinner","service!factory/greeter","config!main"],function(e){var r=e("module!@");e("service!provider/spinner"),e("service!factory/greeter"),e("config!main")(r)}),define("app",["require","modules/foo/foo-includes","modules/bar/bar-includes","modules/application/application-includes","angular"],function(e){e("modules/foo/foo-includes"),e("modules/bar/bar-includes"),e("modules/application/application-includes");{var r=e("angular"),o="my-app";r.module(o,["application","foo","bar"])}r.element(document).ready(function(){var e=r.element(document.querySelector("#"+o));r.bootstrap(e,[o]),console.timeEnd("application loading")})}),requirejs.config({baseUrl:"/application",paths:{angular:"../bower_components/angular/angular","angular-route":"../bower_components/angular-route/angular-route",text:"../bower_components/requirejs-text/text",base:"../bower_components/requirejs-angualr-loader/src/base",template:"../bower_components/requirejs-angualr-loader/src/template",controller:"../bower_components/requirejs-angualr-loader/src/controller",service:"../bower_components/requirejs-angualr-loader/src/service",module:"../bower_components/requirejs-angualr-loader/src/module",config:"../bower_components/requirejs-angualr-loader/src/config",directive:"../bower_components/requirejs-angualr-loader/src/directive",filter:"../bower_components/requirejs-angualr-loader/src/filter"},structure:{prefix:"modules/{module}",module:{path:"/{module}"},template:{path:"/resources/views/{template}.{extension}",extension:"html"},controller:{path:"/controllers/{controller}"},service:{path:"/src/{service}"},config:{path:"/resources/configs/{config}"},directive:{path:"/resources/directives/{directive}"},filter:{path:"/resources/filter/{filter}"}},shim:{angular:{exports:"angular"},"angular-route":{deps:["angular"]},"angular-cache":{deps:["angular"]},"angular-resource":{deps:["angular"]}}}),console.time("application loading"),require(["app"]),define("boot",function(){});